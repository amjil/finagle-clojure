<!DOCTYPE html>
<html><head><meta charset="UTF-8"><link href="css/default.css" rel="stylesheet" type="text/css"><script src="js/jquery.min.js" type="text/javascript"></script><script src="js/page_effects.js" type="text/javascript"></script><title>finagle-clojure.http.message documentation</title></head><body><div id="header"><h2>Generated by <a href="https://github.com/weavejester/codox">Codox</a></h2><h1><a href="index.html">Finagle-clojure 0.6.0 API documentation</a></h1></div><div class="sidebar" id="namespaces"><h3><a href="index.html"><span class="inner">Namespaces</span></a></h3><ul><li class="depth-1"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>finagle-clojure</span></div></div></li><li class="depth-2"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>builder</span></div></div></li><li class="depth-3 branch"><a href="finagle-clojure.builder.client.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>client</span></div></a></li><li class="depth-3"><a href="finagle-clojure.builder.server.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>server</span></div></a></li><li class="depth-2 branch"><a href="finagle-clojure.duration.html"><div class="inner"><span class="tree" style="top: -83px;"><span class="top" style="height: 92px;"></span><span class="bottom"></span></span><span>duration</span></div></a></li><li class="depth-2 branch"><a href="finagle-clojure.filter.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>filter</span></div></a></li><li class="depth-2 branch"><a href="finagle-clojure.future-pool.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>future-pool</span></div></a></li><li class="depth-2 branch"><a href="finagle-clojure.futures.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>futures</span></div></a></li><li class="depth-2"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>http</span></div></div></li><li class="depth-3"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>builder</span></div></div></li><li class="depth-4"><a href="finagle-clojure.http.builder.codec.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>codec</span></div></a></li><li class="depth-3 branch"><a href="finagle-clojure.http.client.html"><div class="inner"><span class="tree" style="top: -52px;"><span class="top" style="height: 61px;"></span><span class="bottom"></span></span><span>client</span></div></a></li><li class="depth-3 branch current"><a href="finagle-clojure.http.message.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>message</span></div></a></li><li class="depth-3"><a href="finagle-clojure.http.server.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>server</span></div></a></li><li class="depth-2 branch"><a href="finagle-clojure.monad.html"><div class="inner"><span class="tree" style="top: -176px;"><span class="top" style="height: 185px;"></span><span class="bottom"></span></span><span>monad</span></div></a></li><li class="depth-2"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>mysql</span></div></div></li><li class="depth-3 branch"><a href="finagle-clojure.mysql.client.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>client</span></div></a></li><li class="depth-3"><a href="finagle-clojure.mysql.value.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>value</span></div></a></li><li class="depth-2 branch"><a href="finagle-clojure.options.html"><div class="inner"><span class="tree" style="top: -83px;"><span class="top" style="height: 92px;"></span><span class="bottom"></span></span><span>options</span></div></a></li><li class="depth-2 branch"><a href="finagle-clojure.scala.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>scala</span></div></a></li><li class="depth-2 branch"><a href="finagle-clojure.service.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>service</span></div></a></li><li class="depth-2 branch"><a href="finagle-clojure.thrift.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>thrift</span></div></a></li><li class="depth-2 branch"><a href="finagle-clojure.thriftmux.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>thriftmux</span></div></a></li><li class="depth-2"><a href="finagle-clojure.timer.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>timer</span></div></a></li></ul></div><div class="sidebar" id="vars"><h3><a href="#top"><span class="inner">Public Vars</span></a></h3><ul><li class="depth-1"><a href="finagle-clojure.http.message.html#var-charset"><div class="inner"><span>charset</span></div></a></li><li class="depth-1"><a href="finagle-clojure.http.message.html#var-content-string"><div class="inner"><span>content-string</span></div></a></li><li class="depth-1"><a href="finagle-clojure.http.message.html#var-content-type"><div class="inner"><span>content-type</span></div></a></li><li class="depth-1"><a href="finagle-clojure.http.message.html#var-header"><div class="inner"><span>header</span></div></a></li><li class="depth-1"><a href="finagle-clojure.http.message.html#var-headers"><div class="inner"><span>headers</span></div></a></li><li class="depth-1"><a href="finagle-clojure.http.message.html#var-http-method"><div class="inner"><span>http-method</span></div></a></li><li class="depth-1"><a href="finagle-clojure.http.message.html#var-input-stream"><div class="inner"><span>input-stream</span></div></a></li><li class="depth-1"><a href="finagle-clojure.http.message.html#var-param"><div class="inner"><span>param</span></div></a></li><li class="depth-1"><a href="finagle-clojure.http.message.html#var-params"><div class="inner"><span>params</span></div></a></li><li class="depth-1"><a href="finagle-clojure.http.message.html#var-request"><div class="inner"><span>request</span></div></a></li><li class="depth-1"><a href="finagle-clojure.http.message.html#var-response"><div class="inner"><span>response</span></div></a></li><li class="depth-1"><a href="finagle-clojure.http.message.html#var-set-charset"><div class="inner"><span>set-charset</span></div></a></li><li class="depth-1"><a href="finagle-clojure.http.message.html#var-set-content-string"><div class="inner"><span>set-content-string</span></div></a></li><li class="depth-1"><a href="finagle-clojure.http.message.html#var-set-content-type"><div class="inner"><span>set-content-type</span></div></a></li><li class="depth-1"><a href="finagle-clojure.http.message.html#var-set-header"><div class="inner"><span>set-header</span></div></a></li><li class="depth-1"><a href="finagle-clojure.http.message.html#var-set-http-method"><div class="inner"><span>set-http-method</span></div></a></li><li class="depth-1"><a href="finagle-clojure.http.message.html#var-set-status-code"><div class="inner"><span>set-status-code</span></div></a></li><li class="depth-1"><a href="finagle-clojure.http.message.html#var-status-code"><div class="inner"><span>status-code</span></div></a></li></ul></div><div class="namespace-docs" id="content"><h2 class="anchor" id="top">finagle-clojure.http.message</h2><div class="doc"><div class="markdown"><p>Functions for working with <a href="null">com.twitter.finagle.http.Message</a> and its concrete subclasses, <a href="null">com.twitter.finagle.http.Request</a> and <a href="null">com.twitter.finagle.http.Response</a>.</p><p><code>Request</code> objects are passed to services bound to a Finagle HTTP server, and <code>Response</code> objects must be passed back (wrapped in a <code>Future</code>) in turn. Most requests are constructed by Finagle, but the functions here to may be helpful to create <code>MockRequest</code>s for service testing purposes.</p></div></div><div class="public anchor" id="var-charset"><h3>charset</h3><div class="usage"><code>(charset msg)</code></div><div class="doc"><div class="markdown"><p>Gets the charset of the given message.</p><p><em>Arguments</em>:</p>
<ul>
  <li><code>msg</code>: a <a href="null">com.twitter.finagle.http.Message</a></li>
</ul><p><em>Returns</em>:</p><p>the charset of the message</p></div></div><div class="src-link"><a href="https://github.com/finagle/finagle-clojure/blob/v0.6.0/http/src/finagle_clojure/http/message.clj#L154">view source</a></div></div><div class="public anchor" id="var-content-string"><h3>content-string</h3><div class="usage"><code>(content-string msg)</code></div><div class="doc"><div class="markdown"><p>Gets the content string of the given message.</p><p><em>Arguments</em>:</p>
<ul>
  <li><code>msg</code>: a <a href="null">com.twitter.finagle.http.Message</a></li>
</ul><p><em>Returns</em>:</p><p>the content string of the message</p></div></div><div class="src-link"><a href="https://github.com/finagle/finagle-clojure/blob/v0.6.0/http/src/finagle_clojure/http/message.clj#L95">view source</a></div></div><div class="public anchor" id="var-content-type"><h3>content-type</h3><div class="usage"><code>(content-type msg)</code></div><div class="doc"><div class="markdown"><p>Gets the content type of the given message.</p><p><em>Arguments</em>:</p>
<ul>
  <li><code>msg</code>: a <a href="null">com.twitter.finagle.http.Message</a></li>
</ul><p><em>Returns</em>:</p><p>the content type of the message</p></div></div><div class="src-link"><a href="https://github.com/finagle/finagle-clojure/blob/v0.6.0/http/src/finagle_clojure/http/message.clj#L126">view source</a></div></div><div class="public anchor" id="var-header"><h3>header</h3><div class="usage"><code>(header msg header)</code></div><div class="doc"><div class="markdown"><p>Gets the named header from the given message.</p><p><em>Arguments</em>:</p>
<ul>
  <li><code>msg</code>: a <a href="null">com.twitter.finagle.http.Message</a></li>
  <li><code>header</code>: a string containing the header name</li>
</ul><p><em>Returns</em>:</p><p>A seq of strings that are the values for the named header in the given message</p></div></div><div class="src-link"><a href="https://github.com/finagle/finagle-clojure/blob/v0.6.0/http/src/finagle_clojure/http/message.clj#L211">view source</a></div></div><div class="public anchor" id="var-headers"><h3>headers</h3><div class="usage"><code>(headers msg)</code></div><div class="doc"><div class="markdown"><p>Returns this message&rsquo;s headers as a Clojure map.</p><p><em>Arguments</em>:</p>
<ul>
  <li><code>msg</code>: a <a href="null">com.twitter.finagle.http.Message</a></li>
</ul><p><em>Returns</em>:</p><p>this request&rsquo;s headers as a Clojure map</p></div></div><div class="src-link"><a href="https://github.com/finagle/finagle-clojure/blob/v0.6.0/http/src/finagle_clojure/http/message.clj#L225">view source</a></div></div><div class="public anchor" id="var-http-method"><h3>http-method</h3><div class="usage"><code>(http-method req)</code></div><div class="doc"><div class="markdown"><p>Gets the HTTP method of the given request.</p><p><em>Arguments</em>:</p>
<ul>
  <li><code>req</code>: a <a href="null">com.twitter.finagle.http.Request</a></li>
</ul><p><em>Returns</em>:</p><p>the HTTP method of the request as an uppercase string</p></div></div><div class="src-link"><a href="https://github.com/finagle/finagle-clojure/blob/v0.6.0/http/src/finagle_clojure/http/message.clj#L182">view source</a></div></div><div class="public anchor" id="var-input-stream"><h3>input-stream</h3><div class="usage"><code>(input-stream msg)</code></div><div class="doc"><div class="markdown"><p>Returns this message&rsquo;s content as an input stream.</p><p><em>Arguments</em>:</p>
<ul>
  <li><code>msg</code>: a <a href="null">com.twitter.finagle.http.Message</a></li>
</ul><p><em>Returns</em>:</p><p>this request&rsquo;s content as an input stream</p></div></div><div class="src-link"><a href="https://github.com/finagle/finagle-clojure/blob/v0.6.0/http/src/finagle_clojure/http/message.clj#L238">view source</a></div></div><div class="public anchor" id="var-param"><h3>param</h3><div class="usage"><code>(param req param)</code></div><div class="doc"><div class="markdown"><p>Returns the named param from the given request.</p><p><em>Arguments</em>:</p>
<ul>
  <li><code>req</code>: a <a href="null">com.twitter.finagle.http.Request</a></li>
</ul><p><em>Returns</em>:</p><p>the string contents of the named param</p></div></div><div class="src-link"><a href="https://github.com/finagle/finagle-clojure/blob/v0.6.0/http/src/finagle_clojure/http/message.clj#L264">view source</a></div></div><div class="public anchor" id="var-params"><h3>params</h3><div class="usage"><code>(params req)</code></div><div class="doc"><div class="markdown"><p>Returns this request&rsquo;s params as a Clojure map.</p><p><em>Arguments</em>:</p>
<ul>
  <li><code>req</code>: a <a href="null">com.twitter.finagle.http.Request</a></li>
</ul><p><em>Returns</em>:</p><p>this request&rsquo;s params as a Clojure map</p></div></div><div class="src-link"><a href="https://github.com/finagle/finagle-clojure/blob/v0.6.0/http/src/finagle_clojure/http/message.clj#L251">view source</a></div></div><div class="public anchor" id="var-request"><h3>request</h3><div class="usage"><code>(request uri)</code><code>(request uri method)</code></div><div class="doc"><div class="markdown"><p>Constructs a <code>Request</code>. Usually this will be constructed on your behalf for incoming requests; this function is useful primarily testing purposes, and indeed returns a <code>MockRequest</code> in its current form.</p><p><em>Arguments</em>:</p>
<ul>
  <li><code>uri</code>: the URI of the request</li>
  <li><code>method</code> (optional): a keyword or string of the desired HTTP method</li>
</ul><p><em>Returns</em>:</p><p>an instance of <a href="null">com.twitter.finagle.http.Request</a>, specifically a MockRequest</p></div></div><div class="src-link"><a href="https://github.com/finagle/finagle-clojure/blob/v0.6.0/http/src/finagle_clojure/http/message.clj#L35">view source</a></div></div><div class="public anchor" id="var-response"><h3>response</h3><div class="usage"><code>(response)</code><code>(response code)</code></div><div class="doc"><div class="markdown"><p>Constructs a <code>Response</code>, required for Finagle services that interact with an <code>HttpServer</code>.</p><p><em>Arguments</em>:</p>
<ul>
  <li><code>code</code> (optional): a number representing the desired HTTP status code of the response</li>
</ul><p><em>Returns</em>:</p><p>an instance of <a href="null">com.twitter.finagle.http.Response</a></p></div></div><div class="src-link"><a href="https://github.com/finagle/finagle-clojure/blob/v0.6.0/http/src/finagle_clojure/http/message.clj#L20">view source</a></div></div><div class="public anchor" id="var-set-charset"><h3>set-charset</h3><div class="usage"><code>(set-charset msg charset)</code></div><div class="doc"><div class="markdown"><p>Sets the charset of the given message.</p><p><em>Arguments</em>:</p>
<ul>
  <li><code>msg</code>: a <a href="null">com.twitter.finagle.http.Message</a></li>
  <li><code>charset</code>: a string charset</li>
</ul><p><em>Returns</em>:</p><p>the given message</p></div></div><div class="src-link"><a href="https://github.com/finagle/finagle-clojure/blob/v0.6.0/http/src/finagle_clojure/http/message.clj#L139">view source</a></div></div><div class="public anchor" id="var-set-content-string"><h3>set-content-string</h3><div class="usage"><code>(set-content-string msg content)</code></div><div class="doc"><div class="markdown"><p>Sets the content string of the given message.</p><p><em>Arguments</em>:</p>
<ul>
  <li><code>msg</code>: a <a href="null">com.twitter.finagle.http.Message</a></li>
  <li><code>content</code>: a string of content</li>
</ul><p><em>Returns</em>:</p><p>the given message</p></div></div><div class="src-link"><a href="https://github.com/finagle/finagle-clojure/blob/v0.6.0/http/src/finagle_clojure/http/message.clj#L80">view source</a></div></div><div class="public anchor" id="var-set-content-type"><h3>set-content-type</h3><div class="usage"><code>(set-content-type msg type)</code><code>(set-content-type msg type charset)</code></div><div class="doc"><div class="markdown"><p>Sets the content type of the given message.</p><p><em>Arguments</em>:</p>
<ul>
  <li><code>msg</code>: a <a href="null">com.twitter.finagle.http.Message</a></li>
  <li><code>type</code>: a string containing the message&rsquo;s content-type</li>
  <li><code>charset</code> (optional, default: <code>utf-8</code>): the charset of the content</li>
</ul><p><em>Returns</em>:</p><p>the given message</p></div></div><div class="src-link"><a href="https://github.com/finagle/finagle-clojure/blob/v0.6.0/http/src/finagle_clojure/http/message.clj#L108">view source</a></div></div><div class="public anchor" id="var-set-header"><h3>set-header</h3><div class="usage"><code>(set-header msg name value)</code></div><div class="doc"><div class="markdown"><p>Sets the named header in the given message.</p><p><em>Arguments</em>:</p>
<ul>
  <li><code>msg</code>: a <a href="null">com.twitter.finagle.http.Message</a></li>
  <li><code>name</code>: a string containing the header name</li>
  <li><code>value</code>: a stringable object containing the value</li>
</ul><p><em>Returns</em>:</p>
<pre><code>the given message
</code></pre></div></div><div class="src-link"><a href="https://github.com/finagle/finagle-clojure/blob/v0.6.0/http/src/finagle_clojure/http/message.clj#L195">view source</a></div></div><div class="public anchor" id="var-set-http-method"><h3>set-http-method</h3><div class="usage"><code>(set-http-method req meth)</code></div><div class="doc"><div class="markdown"><p>Sets the HTTP method of the given request.</p><p><em>Arguments</em>:</p>
<ul>
  <li><code>req</code>: a <a href="null">com.twitter.finagle.http.Request</a></li>
  <li><code>meth</code>: a string or keyword containing a valid HTTP method</li>
</ul><p><em>Returns</em>:</p><p>the given request</p></div></div><div class="src-link"><a href="https://github.com/finagle/finagle-clojure/blob/v0.6.0/http/src/finagle_clojure/http/message.clj#L167">view source</a></div></div><div class="public anchor" id="var-set-status-code"><h3>set-status-code</h3><div class="usage"><code>(set-status-code resp code)</code></div><div class="doc"><div class="markdown"><p>Sets the status code of the given response.</p><p><em>Arguments</em>:</p>
<ul>
  <li><code>resp</code>: a <a href="null">com.twitter.finagle.http.Response</a></li>
  <li><code>code</code>: a number with the desired HTTP status code</li>
</ul><p><em>Returns</em>:</p><p>the given response</p></div></div><div class="src-link"><a href="https://github.com/finagle/finagle-clojure/blob/v0.6.0/http/src/finagle_clojure/http/message.clj#L52">view source</a></div></div><div class="public anchor" id="var-status-code"><h3>status-code</h3><div class="usage"><code>(status-code resp)</code></div><div class="doc"><div class="markdown"><p>Returns the status code of the given <code>Response</code>.</p><p><em>Arguments</em>:</p>
<ul>
  <li><code>resp</code>: a <a href="null">com.twitter.finagle.http.Response</a></li>
</ul><p><em>Returns</em>:</p><p>the status code of the response as an int</p></div></div><div class="src-link"><a href="https://github.com/finagle/finagle-clojure/blob/v0.6.0/http/src/finagle_clojure/http/message.clj#L67">view source</a></div></div></div></body></html>