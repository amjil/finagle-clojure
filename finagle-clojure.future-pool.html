<!DOCTYPE html>
<html><head><meta charset="UTF-8"><link href="css/default.css" rel="stylesheet" type="text/css"><script src="js/jquery.min.js" type="text/javascript"></script><script src="js/page_effects.js" type="text/javascript"></script><title>finagle-clojure.future-pool documentation</title></head><body><div id="header"><h2>Generated by <a href="https://github.com/weavejester/codox">Codox</a></h2><h1><a href="index.html">Finagle-clojure 0.4.1 API documentation</a></h1></div><div class="sidebar" id="namespaces"><h3><a href="index.html"><span class="inner">Namespaces</span></a></h3><ul><li class="depth-1"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>finagle-clojure</span></div></div></li><li class="depth-2"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>builder</span></div></div></li><li class="depth-3 branch"><a href="finagle-clojure.builder.client.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>client</span></div></a></li><li class="depth-3"><a href="finagle-clojure.builder.server.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>server</span></div></a></li><li class="depth-2 branch"><a href="finagle-clojure.duration.html"><div class="inner"><span class="tree" style="top: -83px;"><span class="top" style="height: 92px;"></span><span class="bottom"></span></span><span>duration</span></div></a></li><li class="depth-2 branch"><a href="finagle-clojure.filter.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>filter</span></div></a></li><li class="depth-2 branch current"><a href="finagle-clojure.future-pool.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>future-pool</span></div></a></li><li class="depth-2 branch"><a href="finagle-clojure.futures.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>futures</span></div></a></li><li class="depth-2"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>http</span></div></div></li><li class="depth-3"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>builder</span></div></div></li><li class="depth-4"><a href="finagle-clojure.http.builder.codec.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>codec</span></div></a></li><li class="depth-3 branch"><a href="finagle-clojure.http.client.html"><div class="inner"><span class="tree" style="top: -52px;"><span class="top" style="height: 61px;"></span><span class="bottom"></span></span><span>client</span></div></a></li><li class="depth-3 branch"><a href="finagle-clojure.http.message.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>message</span></div></a></li><li class="depth-3"><a href="finagle-clojure.http.server.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>server</span></div></a></li><li class="depth-2 branch"><a href="finagle-clojure.monad.html"><div class="inner"><span class="tree" style="top: -176px;"><span class="top" style="height: 185px;"></span><span class="bottom"></span></span><span>monad</span></div></a></li><li class="depth-2"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>mysql</span></div></div></li><li class="depth-3 branch"><a href="finagle-clojure.mysql.client.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>client</span></div></a></li><li class="depth-3"><a href="finagle-clojure.mysql.value.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>value</span></div></a></li><li class="depth-2 branch"><a href="finagle-clojure.options.html"><div class="inner"><span class="tree" style="top: -83px;"><span class="top" style="height: 92px;"></span><span class="bottom"></span></span><span>options</span></div></a></li><li class="depth-2 branch"><a href="finagle-clojure.scala.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>scala</span></div></a></li><li class="depth-2 branch"><a href="finagle-clojure.service.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>service</span></div></a></li><li class="depth-2 branch"><a href="finagle-clojure.thrift.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>thrift</span></div></a></li><li class="depth-2 branch"><a href="finagle-clojure.thriftmux.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>thriftmux</span></div></a></li><li class="depth-2"><a href="finagle-clojure.timer.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>timer</span></div></a></li></ul></div><div class="sidebar" id="vars"><h3><a href="#top"><span class="inner">Public Vars</span></a></h3><ul><li class="depth-1"><a href="finagle-clojure.future-pool.html#var-future-pool"><div class="inner"><span>future-pool</span></div></a></li><li class="depth-1"><a href="finagle-clojure.future-pool.html#var-immediate-future-pool"><div class="inner"><span>immediate-future-pool</span></div></a></li><li class="depth-1"><a href="finagle-clojure.future-pool.html#var-interruptible-future-pool"><div class="inner"><span>interruptible-future-pool</span></div></a></li><li class="depth-1"><a href="finagle-clojure.future-pool.html#var-interruptible-unbounded-future-pool"><div class="inner"><span>interruptible-unbounded-future-pool</span></div></a></li><li class="depth-1"><a href="finagle-clojure.future-pool.html#var-run"><div class="inner"><span>run</span></div></a></li><li class="depth-1"><a href="finagle-clojure.future-pool.html#var-run*"><div class="inner"><span>run*</span></div></a></li><li class="depth-1"><a href="finagle-clojure.future-pool.html#var-unbounded-future-pool"><div class="inner"><span>unbounded-future-pool</span></div></a></li></ul></div><div class="namespace-docs" id="content"><h2 class="anchor" id="top">finagle-clojure.future-pool</h2><div class="doc"><div class="markdown"><p>Functions for creating &amp; using <code>com.twitter.util.FuturePool</code>. FuturePools can be used to run blocking code on a thread separate from Finagle. This allows synchronous libraries to be used asynchronously in an application using Finagle. A Future will be returned which allows for easy integration to other asynchronous Finagle code.</p></div></div><div class="public anchor" id="var-future-pool"><h3>future-pool</h3><div class="usage"><code>(future-pool executor-service)</code></div><div class="doc"><div class="markdown"><p>FuturePools can be used to run synchronous code on a thread pool. Once a FuturePool has been created tasks can be run on it, a Future will be returned representing its completion.</p><p><em>Arguments</em>:</p>
<ul>
  <li><code>executor-service</code>: the <code>java.util.concurrent.ExecutorService</code> that will back the returned FuturePool.</li>
</ul><p><em>Returns</em>:</p><p>A new ExecutorServiceFuturePool.</p><p>See: <a href="finagle-clojure.future-pool.html#var-run*">run*</a> &amp; <a href="finagle-clojure.future-pool.html#var-run">run</a></p></div></div><div class="src-link"><a href="https://github.com/finagle/finagle-clojure/blob/v0.4.1/core/src/finagle_clojure/future_pool.clj#L10">view source</a></div></div><div class="public anchor" id="var-immediate-future-pool"><h3>immediate-future-pool</h3><div class="usage"><code>(immediate-future-pool)</code></div><div class="doc"><div class="markdown"><p>This function returns a FuturePool that will execute tasks on the calling thread, rather than asynchronously. This should really only be used in tests.</p><p><em>Returns</em>:</p><p>A new FuturePool that will execute on the calling thread.</p><p>See: <a href="finagle-clojure.future-pool.html#var-run*">run*</a> &amp; <a href="finagle-clojure.future-pool.html#var-run">run</a></p></div></div><div class="src-link"><a href="https://github.com/finagle/finagle-clojure/blob/v0.4.1/core/src/finagle_clojure/future_pool.clj#L89">view source</a></div></div><div class="public anchor" id="var-interruptible-future-pool"><h3>interruptible-future-pool</h3><div class="usage"><code>(interruptible-future-pool executor-service)</code></div><div class="doc"><div class="markdown"><p>FuturePools can be used to run synchronous code on a thread pool. Once a FuturePool has been created tasks can be run on it, a Future will be returned representing its completion.</p><p>This function returns an InterruptibleExecutorServiceFuturePool, similar to an ExecutorServiceFuturePool but interrupts on the Futures returned by <a href="finagle-clojure.future-pool.html#var-run*">run*</a> or <a href="finagle-clojure.future-pool.html#var-run">run</a> will attempt to propagate to the backing ExecutorService.</p><p><em>Arguments</em>:</p>
<ul>
  <li><code>executor-service</code>: the <code>java.util.concurrent.ExecutorService</code> that will back the returned FuturePool.</li>
</ul><p><em>Returns</em>:</p><p>A new InterruptibleExecutorServiceFuturePool.</p><p>See: <a href="finagle-clojure.future-pool.html#var-run*">run*</a> &amp; <a href="finagle-clojure.future-pool.html#var-run">run</a></p></div></div><div class="src-link"><a href="https://github.com/finagle/finagle-clojure/blob/v0.4.1/core/src/finagle_clojure/future_pool.clj#L27">view source</a></div></div><div class="public anchor" id="var-interruptible-unbounded-future-pool"><h3>interruptible-unbounded-future-pool</h3><div class="usage"><code>(interruptible-unbounded-future-pool executor-service)</code></div><div class="doc"><div class="markdown"><p>FuturePools can be used to run synchronous code on a thread pool. Once a FuturePool has been created tasks can be run on it, a Future will be returned representing its completion.</p><p>This function will return a FuturePool backed by an unbounded, cached, thread pool. While this FuturePool may be suitable for IO concurrency, computational concurrency may require finer tuning (see <a href="finagle-clojure.future-pool.html#var-interruptible-future-pool">interruptible-future-pool</a>).</p><p>Interrupts on the Futures returned by <a href="finagle-clojure.future-pool.html#var-run*">run*</a> or <a href="finagle-clojure.future-pool.html#var-run">run</a> will attempt to propagate to the backing thread pool.</p><p><em>Arguments</em>:</p>
<ul>
  <li><code>executor-service</code>: the <code>java.util.concurrent.ExecutorService</code> that will back the returned FuturePool.</li>
</ul><p><em>Returns</em>:</p><p>A new InterruptibleExecutorServiceFuturePool.</p><p>See: <a href="finagle-clojure.future-pool.html#var-run*">run*</a> &amp; <a href="finagle-clojure.future-pool.html#var-run">run</a></p></div></div><div class="src-link"><a href="https://github.com/finagle/finagle-clojure/blob/v0.4.1/core/src/finagle_clojure/future_pool.clj#L65">view source</a></div></div><div class="public anchor" id="var-run"><h3>run</h3><h4 class="type">macro</h4><div class="usage"><code>(run future-pool &amp; body)</code></div><div class="doc"><div class="markdown"><p>Sugar for creating a scala.Function0 and passing it to <a href="finagle-clojure.future-pool.html#var-run*">run*</a>. Run <code>body</code> on FuturePool <code>future-pool</code>. A Future will be returned representing the async application of <code>body</code>.</p><p><em>Arguments</em>:</p>
<ul>
  <li><code>future-pool</code>: the FuturePool on which <code>body</code> will run</li>
  <li><code>body</code>: will execute asynchronously to relative to the current thread on <code>future-pool</code></li>
</ul><p><em>Returns</em>:</p><p>A Future that will be defined when <code>body</code> has run.  Its value will be the result of applying <code>body</code>, or a thrown exception.</p><p>See: <a href="finagle-clojure.future-pool.html#var-run*">run*</a> &amp; <a href="finagle-clojure.scala.html#var-Function0">scala/Function0</a></p></div></div><div class="src-link"><a href="https://github.com/finagle/finagle-clojure/blob/v0.4.1/core/src/finagle_clojure/future_pool.clj#L119">view source</a></div></div><div class="public anchor" id="var-run*"><h3>run*</h3><div class="usage"><code>(run* future-pool fn0)</code></div><div class="doc"><div class="markdown"><p>Run scala.Function0 or Clojure fn <code>fn0</code> on FuturePool <code>future-pool</code>. A Future will be returned representing the async application of <code>fn0</code>.</p><p><em>Arguments</em>:</p>
<ul>
  <li><code>future-pool</code>: the FuturePool on which <code>fn0</code> will run</li>
  <li><code>fn0</code>: a scala.Function0 or Clojure fn to apply asynchronously</li>
</ul><p><em>Returns</em>:</p><p>A Future that will be defined when <code>fn0</code> has run.  Its value will be the result of applying <code>fn0</code>, or a thrown exception.</p><p>See: <a href="finagle-clojure.scala.html#var-Function0">scala/Function0</a> &amp; <a href="finagle-clojure.future-pool.html#var-run">run</a></p></div></div><div class="src-link"><a href="https://github.com/finagle/finagle-clojure/blob/v0.4.1/core/src/finagle_clojure/future_pool.clj#L101">view source</a></div></div><div class="public anchor" id="var-unbounded-future-pool"><h3>unbounded-future-pool</h3><div class="usage"><code>(unbounded-future-pool)</code></div><div class="doc"><div class="markdown"><p>FuturePools can be used to run synchronous code on a thread pool. Once a FuturePool has been created tasks can be run on it, a Future will be returned representing its completion.</p><p>This function will return a FuturePool backed by an unbounded, cached, thread pool. While this FuturePool may be suitable for IO concurrency, computational concurrency may require finer tuning (see <a href="finagle-clojure.future-pool.html#var-future-pool">future-pool</a>).</p><p><em>Returns</em>:</p><p>A new FuturePool.</p><p>See: <a href="finagle-clojure.future-pool.html#var-run*">run*</a> &amp; <a href="finagle-clojure.future-pool.html#var-run">run</a></p></div></div><div class="src-link"><a href="https://github.com/finagle/finagle-clojure/blob/v0.4.1/core/src/finagle_clojure/future_pool.clj#L48">view source</a></div></div></div></body></html>