<!DOCTYPE html>
<html><head><meta charset="UTF-8"><link href="css/default.css" rel="stylesheet" type="text/css"><script src="js/jquery.min.js" type="text/javascript"></script><script src="js/page_effects.js" type="text/javascript"></script><title>finagle-clojure.builder.server documentation</title></head><body><div id="header"><h2>Generated by <a href="https://github.com/weavejester/codox">Codox</a></h2><h1><a href="index.html">Finagle-clojure 0.6.0 API documentation</a></h1></div><div class="sidebar" id="namespaces"><h3><a href="index.html"><span class="inner">Namespaces</span></a></h3><ul><li class="depth-1"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>finagle-clojure</span></div></div></li><li class="depth-2"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>builder</span></div></div></li><li class="depth-3 branch"><a href="finagle-clojure.builder.client.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>client</span></div></a></li><li class="depth-3 current"><a href="finagle-clojure.builder.server.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>server</span></div></a></li><li class="depth-2 branch"><a href="finagle-clojure.duration.html"><div class="inner"><span class="tree" style="top: -83px;"><span class="top" style="height: 92px;"></span><span class="bottom"></span></span><span>duration</span></div></a></li><li class="depth-2 branch"><a href="finagle-clojure.filter.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>filter</span></div></a></li><li class="depth-2 branch"><a href="finagle-clojure.future-pool.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>future-pool</span></div></a></li><li class="depth-2 branch"><a href="finagle-clojure.futures.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>futures</span></div></a></li><li class="depth-2"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>http</span></div></div></li><li class="depth-3"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>builder</span></div></div></li><li class="depth-4"><a href="finagle-clojure.http.builder.codec.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>codec</span></div></a></li><li class="depth-3 branch"><a href="finagle-clojure.http.client.html"><div class="inner"><span class="tree" style="top: -52px;"><span class="top" style="height: 61px;"></span><span class="bottom"></span></span><span>client</span></div></a></li><li class="depth-3 branch"><a href="finagle-clojure.http.message.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>message</span></div></a></li><li class="depth-3"><a href="finagle-clojure.http.server.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>server</span></div></a></li><li class="depth-2 branch"><a href="finagle-clojure.monad.html"><div class="inner"><span class="tree" style="top: -176px;"><span class="top" style="height: 185px;"></span><span class="bottom"></span></span><span>monad</span></div></a></li><li class="depth-2"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>mysql</span></div></div></li><li class="depth-3 branch"><a href="finagle-clojure.mysql.client.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>client</span></div></a></li><li class="depth-3"><a href="finagle-clojure.mysql.value.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>value</span></div></a></li><li class="depth-2 branch"><a href="finagle-clojure.options.html"><div class="inner"><span class="tree" style="top: -83px;"><span class="top" style="height: 92px;"></span><span class="bottom"></span></span><span>options</span></div></a></li><li class="depth-2 branch"><a href="finagle-clojure.scala.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>scala</span></div></a></li><li class="depth-2 branch"><a href="finagle-clojure.service.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>service</span></div></a></li><li class="depth-2 branch"><a href="finagle-clojure.thrift.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>thrift</span></div></a></li><li class="depth-2 branch"><a href="finagle-clojure.thriftmux.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>thriftmux</span></div></a></li><li class="depth-2"><a href="finagle-clojure.timer.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>timer</span></div></a></li></ul></div><div class="sidebar" id="vars"><h3><a href="#top"><span class="inner">Public Vars</span></a></h3><ul><li class="depth-1"><a href="finagle-clojure.builder.server.html#var-bind-to"><div class="inner"><span>bind-to</span></div></a></li><li class="depth-1"><a href="finagle-clojure.builder.server.html#var-build"><div class="inner"><span>build</span></div></a></li><li class="depth-1"><a href="finagle-clojure.builder.server.html#var-builder"><div class="inner"><span>builder</span></div></a></li><li class="depth-1"><a href="finagle-clojure.builder.server.html#var-close.21"><div class="inner"><span>close!</span></div></a></li><li class="depth-1"><a href="finagle-clojure.builder.server.html#var-codec"><div class="inner"><span>codec</span></div></a></li><li class="depth-1"><a href="finagle-clojure.builder.server.html#var-max-concurrent-requests"><div class="inner"><span>max-concurrent-requests</span></div></a></li><li class="depth-1"><a href="finagle-clojure.builder.server.html#var-named"><div class="inner"><span>named</span></div></a></li><li class="depth-1"><a href="finagle-clojure.builder.server.html#var-report-to"><div class="inner"><span>report-to</span></div></a></li><li class="depth-1"><a href="finagle-clojure.builder.server.html#var-request-timeout"><div class="inner"><span>request-timeout</span></div></a></li><li class="depth-1"><a href="finagle-clojure.builder.server.html#var-tracer"><div class="inner"><span>tracer</span></div></a></li></ul></div><div class="namespace-docs" id="content"><h2 class="anchor" id="top">finagle-clojure.builder.server</h2><div class="doc"><div class="markdown"><p>Functions for creating and altering <code>com.twitter.finagle.Server</code> objects independent of any particular codec. Generally speaking codec-specific server functions should be preferred, but these are included for comptability with older systems configured at the server level.</p></div></div><div class="public anchor" id="var-bind-to"><h3>bind-to</h3><div class="usage"><code>(bind-to b p)</code></div><div class="doc"><div class="markdown"><p>Configures the given ServerBuilder with a port.</p><p><em>Arguments</em>:</p>
<ul>
  <li><code>b</code>: a ServerBuilder</li>
  <li><code>p</code>: the port number to bind this server to</li>
</ul><p><em>Returns</em>:</p><p>a bound ServerBuilder</p></div></div><div class="src-link"><a href="https://github.com/finagle/finagle-clojure/blob/v0.6.0/core/src/finagle_clojure/builder/server.clj#L78">view source</a></div></div><div class="public anchor" id="var-build"><h3>build</h3><div class="usage"><code>(build b svc)</code></div><div class="doc"><div class="markdown"><p>Given a completed <code>ServerBuilder</code> and a <code>Service</code>, constructs an <code>Server</code> which is capable of responding to requests.</p><p><em>Arguments</em>:</p>
<ul>
  <li><code>b</code>: a ServerBuilder</li>
  <li><code>svc</code>: the Service this server will use to respond to requests</li>
</ul><p><em>Returns</em>:</p><p>a running instance of <a href="null">com.twitter.finagle.builder.Server</a></p></div></div><div class="src-link"><a href="https://github.com/finagle/finagle-clojure/blob/v0.6.0/core/src/finagle_clojure/builder/server.clj#L36">view source</a></div></div><div class="public anchor" id="var-builder"><h3>builder</h3><div class="usage"><code>(builder)</code></div><div class="doc"><div class="markdown"><p>A handy Builder for constructing Servers (i.e., binding Services to a port). The <code>ServerBuilder</code> requires the definition of <code>codec</code>, <code>bind-to</code> and <code>named</code>.</p><p>The main class to use is <a href="null">com.twitter.finagle.builder.ServerBuilder</a>, as so:</p>
<pre><code>  (-&gt; (builder)
      (named &quot;servicename&quot;)
      (bind-to 3000)
      (build some-service))
</code></pre><p><em>Arguments</em>:</p>
<ul>
  <li>None.</li>
</ul><p><em>Returns</em>:</p><p>a new instance of <a href="null">com.twitter.finagle.builder.ServerBuilder</a>.</p></div></div><div class="src-link"><a href="https://github.com/finagle/finagle-clojure/blob/v0.6.0/core/src/finagle_clojure/builder/server.clj#L13">view source</a></div></div><div class="public anchor" id="var-close.21"><h3>close!</h3><div class="usage"><code>(close! server)</code></div><div class="doc"><div class="markdown"><p>Stops the given Server.</p><p><em>Arguments</em>:</p>
<ul>
  <li><code>server</code>: an instance of <a href="null">com.twitter.finagle.builder.Server</a></li>
</ul><p><em>Returns</em>:</p><p>a Future that closes when the server stops</p></div></div><div class="src-link"><a href="https://github.com/finagle/finagle-clojure/blob/v0.6.0/core/src/finagle_clojure/builder/server.clj#L51">view source</a></div></div><div class="public anchor" id="var-codec"><h3>codec</h3><div class="usage"><code>(codec b cdc)</code></div><div class="doc"><div class="markdown"><p>Configures the given ServerBuilder with a codec.</p><p><em>Arguments</em>:</p>
<ul>
  <li><code>b</code>: a ServerBuilder</li>
  <li><code>cdc</code>: a Codec, CodecFactory, or Function1 that defines the server codec</li>
</ul><p><em>Returns</em>:</p><p>a ServerBuilder configured with the given codec</p></div></div><div class="src-link"><a href="https://github.com/finagle/finagle-clojure/blob/v0.6.0/core/src/finagle_clojure/builder/server.clj#L106">view source</a></div></div><div class="public anchor" id="var-max-concurrent-requests"><h3>max-concurrent-requests</h3><div class="usage"><code>(max-concurrent-requests b mcr)</code></div><div class="doc"><div class="markdown"><p>Configures the given ServerBuilder to accept a maximum number of concurrent requests.</p><p><em>Arguments</em>:</p>
<ul>
  <li><code>b</code>: a ServerBuilder</li>
  <li><code>mcr</code>: the maximum number of concurrent requests</li>
</ul><p><em>Returns</em>:</p><p>a ServerBuilder configured with a maximum number of concurrent requests</p></div></div><div class="src-link"><a href="https://github.com/finagle/finagle-clojure/blob/v0.6.0/core/src/finagle_clojure/builder/server.clj#L120">view source</a></div></div><div class="public anchor" id="var-named"><h3>named</h3><div class="usage"><code>(named b name)</code></div><div class="doc"><div class="markdown"><p>Configures the given ServerBuilder with a name.</p><p><em>Arguments</em>:</p>
<ul>
  <li><code>b</code>: a ServerBuilder</li>
  <li><code>name</code>: the name of this server</li>
</ul><p><em>Returns</em>:</p><p>a named ServerBuilder</p></div></div><div class="src-link"><a href="https://github.com/finagle/finagle-clojure/blob/v0.6.0/core/src/finagle_clojure/builder/server.clj#L64">view source</a></div></div><div class="public anchor" id="var-report-to"><h3>report-to</h3><div class="usage"><code>(report-to b rcvr)</code></div><div class="doc"><div class="markdown"><p>Configures the given ServerBuilder to report to a stats receiver.</p><p><em>Arguments</em>:</p>
<ul>
  <li><code>b</code>: a ServerBuilder</li>
  <li><code>rcvr</code>: a StatsReceiver</li>
</ul><p><em>Returns</em>:</p><p>a ServerBuilder configured with the given stats receiver</p></div></div><div class="src-link"><a href="https://github.com/finagle/finagle-clojure/blob/v0.6.0/core/src/finagle_clojure/builder/server.clj#L148">view source</a></div></div><div class="public anchor" id="var-request-timeout"><h3>request-timeout</h3><div class="usage"><code>(request-timeout b d)</code></div><div class="doc"><div class="markdown"><p>Configures the given ServerBuilder with a request timeout.</p><p><em>Arguments</em>:</p>
<ul>
  <li><code>b</code>: a ServerBuilder</li>
  <li><code>d</code>: the duration of the request timeout for this server</li>
</ul><p><em>Returns</em>:</p><p>a ServerBuilder configured with the given timeout</p></div></div><div class="src-link"><a href="https://github.com/finagle/finagle-clojure/blob/v0.6.0/core/src/finagle_clojure/builder/server.clj#L92">view source</a></div></div><div class="public anchor" id="var-tracer"><h3>tracer</h3><div class="usage"><code>(tracer b tracer)</code></div><div class="doc"><div class="markdown"><p>Configures the given ServerBuilder to use a Tracer.</p><p><em>Arguments</em>:</p>
<ul>
  <li><code>b</code>: a ServerBuilder</li>
  <li><code>tracer</code>: a Tracer</li>
</ul><p><em>Returns</em>:</p><p>a ServerBuilder configured with the given tracer</p></div></div><div class="src-link"><a href="https://github.com/finagle/finagle-clojure/blob/v0.6.0/core/src/finagle_clojure/builder/server.clj#L134">view source</a></div></div></div></body></html>